# parameter file for MeerKAT AR1, 4k channels

cal_buffer_size : 20.0e9                    # buffer size for single buffer (two created), Bytes

cal_refant : m024
cal_preferred_refants : m024,m025,m034

cal_sideband : 1                            # for frequency calculation

# general data parameters
cal_sim_bchan : 200                         # first channel to process, int
cal_sim_echan : 3800                        # last channel to process, int

# delay calibration  
cal_param_k_solint : 5.0                    # nominal pre-k g solution interval, seconds
cal_param_k_chan_sample : 1                 # sample every 10th channel for pre-K BP soln
cal_param_k_bchan : 2250                    # first channel for K fit, int
cal_param_k_echan : 2450                    # last channel for K fit, int
cal_param_kcross_chanave : 1                # number of channels to average together to kcross solution

# bandpass calibration
cal_param_bp_solint : 5.0                   # nominal pre-bp g solution interval, seconds

# gain calibration
cal_param_g_solint: 5.0                     # nominal g solution interval, seconds
cal_param_g_bchan : 2250                    # first channel for g fit, int
cal_param_g_echan : 2450                    # last channel for g fit, int

# Flagging
cal_param_rfi_nsigma : 4.5                   # Number of sigma to reject outliers
cal_param_rfi_windows_freq : 1,2,4,8         # Size of windows for SumThreshold
cal_param_rfi_average_freq : 1               # Amount to average in frequency before flagging
cal_param_rfi_targ_spike_width_freq : 20.0   # 1sigma frequency width of smoothing Gaussian on final target (in channels)
cal_param_rfi_calib_spike_width_freq : 7.0   # 1sigma frequency width of smoothing Gaussian on calibrators (in channels)
cal_param_rfi_spike_width_time : 100.0       # 1sigma time width of smoothing Gaussian (in seconds)
cal_param_rfi_extend_freq : 3                # Convolution width in frequency to extend flags